# ã€19ã€‘è³‡å®‰çš„åŸç½ª ch.3-3.a å¯†ç¢¼èˆ‡èº«åˆ†é©—è­‰

---

## ä»€éº¼æ˜¯èº«åˆ†é©—è­‰?

Authenticationï¼ˆèº«åˆ†é©—è­‰ï¼‰æ˜¯è³‡è¨Šå®‰å…¨ä¸­çš„ä¸€å€‹é‡è¦æ©Ÿåˆ¶ï¼Œç”¨ä¾†**ç¢ºèªä¸€å€‹ä½¿ç”¨è€…æ˜¯å¦çœŸçš„æ˜¯ä»–æ‰€è²ç¨±çš„é‚£å€‹äºº**ã€‚ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ç³»çµ±åœ¨è®“ä½ é€²å…¥ä¹‹å‰ï¼Œå…ˆç¢ºèªã€Œä½ æ˜¯èª°ã€ã€‚

* **Something You Know**

  * Passwords, PINs
* **Something You Have**

  * Smart cards, OTP tokens, security keys
* **Something You Are**

  * Biometrics (fingerprint, face recognition)
* **Somewhere You Are / Behavioral Biometrics**

  * IP-based/location-based authentication

> âš ï¸ æ³¨æ„ï¼šä¸è¦å°‡ **Authenticationï¼ˆèº«åˆ†é©—è­‰ï¼‰** å’Œ **Authorizationï¼ˆæˆæ¬Šï¼‰** ææ··ï¼
> * **Authentication** æ˜¯ç¢ºèªã€Œä½ æ˜¯èª°ã€ã€‚
> * **Authorization** æ˜¯åœ¨ç¢ºèªä½ çš„èº«åˆ†ä¹‹å¾Œï¼Œæ±ºå®šã€Œä½ å¯ä»¥åšä»€éº¼ã€ã€‚

èˆ‰å€‹ä¾‹å­ä¾†èªªï¼š
ç•¶ä½ ç™»å…¥ä¸€å€‹ç¶²ç«™æ™‚ï¼Œç³»çµ±é€éèº«åˆ†é©—è­‰ç¢ºèªä½ æ˜¯æŸä½ä½¿ç”¨è€…ï¼ˆAuthenticationï¼‰ï¼›æ¥è‘—æ ¹æ“šä½ çš„èº«åˆ†åˆ¤æ–·ä½ æ˜¯å¦æœ‰æ¬Šé™è§€çœ‹æŸäº›é é¢æˆ–è³‡æ–™ï¼ˆAuthorizationï¼‰ã€‚

## å¸¸è¦‹çš„èº«åˆ†é©—è­‰æ–¹å¼

æœ€å¸¸è¦‹çš„èº«åˆ†é©—è­‰æ–¹å¼å°±æ˜¯ **å¯†ç¢¼**ã€‚ç•¶ä½ è¼¸å…¥å¸³è™Ÿèˆ‡å¯†ç¢¼æ™‚ï¼Œç³»çµ±æœƒæª¢æŸ¥é€™çµ„è³‡è¨Šæ˜¯å¦èˆ‡è³‡æ–™åº«ä¸­çš„è¨˜éŒ„ç›¸ç¬¦ï¼Œä¾†åˆ¤æ–·æ˜¯å¦å…è¨±ä½ ç™»å…¥ã€‚

é™¤äº†å¯†ç¢¼ï¼Œé‚„æœ‰è¨±å¤šå…¶ä»–çš„é©—è­‰æ–¹å¼ï¼Œä¾‹å¦‚ï¼š

åœ–åƒå¯†ç¢¼ PIN
* **ç”Ÿç‰©è¾¨è­˜**ï¼šä¾‹å¦‚æŒ‡ç´‹ã€è‡‰éƒ¨è¾¨è­˜ã€è™¹è†œæƒæç­‰ã€‚
* **å®‰å…¨æ†‘è­‰æˆ–æ™ºæ…§å¡**ï¼šå¸¸è¦‹æ–¼ä¼æ¥­æˆ–æ”¿åºœæ©Ÿæ§‹çš„å®‰å…¨æ‡‰ç”¨ä¸­ã€‚


## **ç¾ä»£çš„æ›¿ä»£æ–¹æ¡ˆèˆ‡å¼·åŒ–æªæ–½**

TODO: å¯†ç¢¼ç®¡ç†å·¥å…·

ç‚ºäº†æå‡ä½¿ç”¨è€…å¸³æˆ¶çš„å®‰å…¨æ€§ï¼Œç¾ä»£çš„èº«ä»½é©—è­‰æŠ€è¡“é€æ¼¸è¶…è¶Šå‚³çµ±å¯†ç¢¼çš„åšæ³•ï¼Œä»¥ä¸‹æ˜¯å¹¾ç¨®å¸¸è¦‹ä¸”æœ‰æ•ˆçš„ç¾ä»£æ›¿ä»£æ–¹æ¡ˆèˆ‡å¢å¼·æŠ€è¡“ï¼š

### **é›™é‡é©—è­‰ï¼ˆ2FAï¼ŒTwo-Factor Authenticationï¼‰**

é›™é‡é©—è­‰æ˜¯æŒ‡åœ¨è¼¸å…¥å¯†ç¢¼å¾Œï¼Œé‚„éœ€è¦é€éå¦ä¸€å€‹ç¨ç«‹çš„é©—è­‰æ–¹å¼ä¾†ç¢ºèªä½¿ç”¨è€…çš„èº«ä»½ï¼Œå¢åŠ å®‰å…¨å±¤ç´šã€‚å¸¸è¦‹çš„ç¬¬äºŒå±¤é©—è­‰æ–¹å¼åŒ…æ‹¬ï¼š

* **ç°¡è¨Šé©—è­‰ç¢¼ï¼ˆSMS Codesï¼‰**ï¼šç³»çµ±æœƒç™¼é€ä¸€æ¬¡æ€§å¯†ç¢¼ï¼ˆOTPï¼‰åˆ°ä½¿ç”¨è€…çš„æ‰‹æ©Ÿã€‚
* **é©—è­‰å™¨æ‡‰ç”¨ç¨‹å¼ï¼ˆAuthenticator Appsï¼‰**ï¼šå¦‚ Google Authenticator æˆ– Microsoft Authenticatorï¼Œç”¢ç”Ÿå³æ™‚çš„ä¸€æ¬¡æ€§å¯†ç¢¼ã€‚
* **ç¡¬é«”å®‰å…¨é‡‘é‘°ï¼ˆHardware Tokensï¼‰**ï¼šå¦‚ YubiKey ç­‰å¯¦é«”è¨­å‚™ï¼Œç”¨ä¾†é€²è¡Œèº«ä»½é©—è­‰ã€‚

### **å¤šé‡é©—è­‰ï¼ˆMFAï¼ŒMulti-Factor Authenticationï¼‰**

å¤šé‡é©—è­‰æ˜¯æŒ‡ä½¿ç”¨å…©ç¨®ä»¥ä¸Šé¡å‹çš„é©—è­‰æ–¹å¼ä¾†é€²è¡Œèº«ä»½ç¢ºèªï¼Œå®‰å…¨æ€§æ¯” 2FA æ›´é«˜ã€‚é©—è­‰æ–¹å¼ä¸€èˆ¬åˆ†ç‚ºä¸‰ç¨®é¡å‹ï¼š

* **çŸ¥é“çš„æ±è¥¿ï¼ˆçŸ¥è­˜é¡ï¼‰**ï¼šå¦‚å¯†ç¢¼ã€PIN ç¢¼ã€‚
* **æ“æœ‰çš„æ±è¥¿ï¼ˆæŒæœ‰é¡ï¼‰**ï¼šå¦‚æ‰‹æ©Ÿã€ç¡¬é«”é‡‘é‘°ã€‚
* **æœ¬èº«çš„ç‰¹å¾µï¼ˆç”Ÿç‰©ç‰¹å¾µé¡ï¼‰**ï¼šå¦‚æŒ‡ç´‹ã€è‡‰éƒ¨è¾¨è­˜ã€è²éŸ³è¾¨è­˜ç­‰ã€‚

MFA é€šå¸¸çµåˆä¸Šè¿°å…©ç¨®æˆ–æ›´å¤šé©—è­‰æ–¹å¼ï¼Œèƒ½æœ‰æ•ˆé™ä½å¸³è™Ÿè¢«ç›œçš„é¢¨éšªã€‚

### **å–®ä¸€ç™»å…¥ï¼ˆSSOï¼ŒSingle Sign-Onï¼‰**

å–®ä¸€ç™»å…¥æ˜¯ä¸€ç¨®è®“ä½¿ç”¨è€…åªéœ€ç™»å…¥ä¸€æ¬¡ï¼Œå°±èƒ½å­˜å–å¤šå€‹ç›¸é—œç³»çµ±æˆ–æœå‹™çš„æ©Ÿåˆ¶ã€‚å®ƒå¸¶ä¾†çš„å¥½è™•åŒ…æ‹¬ï¼š

* æ¸›å°‘ä½¿ç”¨è€…éœ€è¦è¨˜æ†¶çš„å¸³è™Ÿå¯†ç¢¼æ•¸é‡
* æé«˜ç™»å…¥ä¾¿åˆ©æ€§èˆ‡æ•ˆç‡
* é™ä½å¯†ç¢¼é‡è¤‡ä½¿ç”¨æ‰€å¸¶ä¾†çš„å®‰å…¨é¢¨éšª

SSO å¸¸æ‡‰ç”¨æ–¼ä¼æ¥­å…§éƒ¨ç³»çµ±æˆ–æ•™è‚²æ©Ÿæ§‹çš„æ•´åˆå¹³å°ä¸­ã€‚

### **ç„¡å¯†ç¢¼é©—è­‰ï¼ˆPasswordless Authenticationï¼‰**

ç„¡å¯†ç¢¼é©—è­‰æ˜¯è¿‘å¹´ä¾†å¿«é€Ÿèˆˆèµ·çš„è¶¨å‹¢ï¼Œå®ƒå®Œå…¨çœç•¥å‚³çµ±å¯†ç¢¼çš„ä½¿ç”¨ï¼Œæ”¹ç”¨æ›´å®‰å…¨ã€ä¾¿åˆ©çš„é©—è­‰æ–¹å¼ï¼Œå¦‚ï¼š

* **ç”Ÿç‰©è¾¨è­˜æŠ€è¡“**ï¼šå¦‚æŒ‡ç´‹æƒæã€è‡‰éƒ¨è¾¨è­˜ã€è™¹è†œè¾¨è­˜ç­‰ã€‚
* **é­”æ³•é€£çµï¼ˆMagic Linksï¼‰**ï¼šç³»çµ±å¯„é€ä¸€æ¬¡æ€§ç™»å…¥é€£çµåˆ°ä½¿ç”¨è€…é›»å­éƒµä»¶ï¼Œé»æ“Šå³å¯ç™»å…¥ã€‚
* **è£ç½®å‹é©—è­‰**ï¼šé€éå·²è¨»å†Šçš„å¯ä¿¡è£ç½®ï¼ˆå¦‚æ‰‹æ©Ÿï¼‰ç¢ºèªç™»å…¥è«‹æ±‚ï¼Œä¾‹å¦‚ Apple çš„ Face ID æˆ– Windows Helloã€‚

é€™äº›æ–¹æ³•ä¸åƒ…èƒ½æå‡å®‰å…¨æ€§ï¼Œä¹Ÿèƒ½å¤§å¹…æ”¹å–„ä½¿ç”¨è€…é«”é©—ã€‚

---

## é›œæ¹Šï¼ˆHashingï¼‰

**é›œæ¹Šï¼ˆHashingï¼‰** æ˜¯ä¸€ç¨®å°‡è³‡æ–™ï¼ˆä¾‹å¦‚å¯†ç¢¼ï¼‰è½‰æ›æˆå›ºå®šé•·åº¦å­—ä¸²çš„å–®å‘æ¼”ç®—æ³•ï¼Œå¸¸ç”¨ä¾†ä½œç‚º**å¯†ç¢¼ä¿è­·çš„åŸºæœ¬æ©Ÿåˆ¶**ã€‚é€™ç¨®è½‰æ›**ç„¡æ³•é€†æ¨**ï¼Œæ„å‘³è‘—é›–ç„¶å¯ä»¥å¾å¯†ç¢¼ç”¢ç”Ÿé›œæ¹Šå€¼ï¼Œä½†å¹¾ä¹ä¸å¯èƒ½å¾é›œæ¹Šå€¼é‚„åŸå‡ºåŸå§‹å¯†ç¢¼ã€‚é€™ä½¿å¾—å³ä½¿è³‡æ–™åº«è¢«é§­ï¼Œæ”»æ“Šè€…ä¹Ÿç„¡æ³•çœ‹åˆ°çœŸæ­£çš„å¯†ç¢¼ã€‚


###ã€€**åŠ å…¥é¹½å€¼ï¼ˆSaltingï¼‰**

* ç‚ºæ¯å€‹å¯†ç¢¼åŠ å…¥éš¨æ©Ÿå­—ä¸²ï¼ˆsaltï¼‰å†é€²è¡Œé›œæ¹Š
* é˜²æ­¢ä½¿ç”¨å½©è™¹è¡¨ï¼ˆé å…ˆè¨ˆç®—å¥½çš„é›œæ¹Šå°ç…§è¡¨ï¼‰æ”»æ“Š
* å³ä½¿å…©å€‹ä½¿ç”¨è€…çš„å¯†ç¢¼ç›¸åŒï¼ŒåŠ é¹½å¾Œé›œæ¹Šçµæœä¹Ÿæœƒä¸åŒ


### **é€²éšï¼šåŠ å…¥æ¤’å€¼ï¼ˆPepperingï¼‰**

* é¡å¤–åŠ å…¥ä¸€å€‹éš±è—çš„ç§˜å¯†å­—ä¸²ï¼ˆpepperï¼‰
* é€šå¸¸å„²å­˜åœ¨ç¨‹å¼ç¢¼æˆ–ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œè€Œéè³‡æ–™åº«
* é€²ä¸€æ­¥å¢åŠ ç ´è§£é›£åº¦


**é›œæ¹Š vs åŠ å¯†**

| æ¯”è¼ƒé …ç›® | é›œæ¹Šï¼ˆHashingï¼‰ | åŠ å¯†ï¼ˆEncryptionï¼‰ |
| ---- | ----------- | -------------- |
| å¯é€†æ€§  | å¦ï¼ˆä¸€æ—¦é›œæ¹Šç„¡æ³•é‚„åŸï¼‰ | æ˜¯ï¼ˆç”¨é‡‘é‘°å¯è§£å¯†ï¼‰      |
| ç”¨é€”   | å¯†ç¢¼å„²å­˜        | è³‡æ–™ä¿å¯†å‚³è¼¸         |

* å¯†ç¢¼å„²å­˜åªæ‡‰ä½¿ç”¨é›œæ¹Šï¼Œè€ŒéåŠ å¯†


**å¸¸è¦‹éŒ¯èª¤**

* åªå„²å­˜æœªåŠ é¹½çš„é›œæ¹Šå€¼
* ä½¿ç”¨ä¸é©åˆçš„å¿«é€Ÿé›œæ¹Šæ¼”ç®—æ³•ï¼ˆå¦‚ SHA-256ï¼‰
* é‡è¤‡æˆ–å¯é æ¸¬çš„é¹½å€¼

> âš ï¸ å»ºè­°ä½¿ç”¨å°ˆé–€ç‚ºå¯†ç¢¼è¨­è¨ˆçš„é›œæ¹Šæ¼”ç®—æ³•ï¼Œå¦‚ **bcryptã€scrypt æˆ– Argon2**


---

## **Sessionï¼ˆæœƒè©±ï¼‰æ©Ÿåˆ¶èªªæ˜**

### **1. ç‚ºä»€éº¼éœ€è¦ Sessionï¼Ÿ**

* HTTP æ˜¯ç„¡ç‹€æ…‹çš„ï¼ˆstatelessï¼‰å”è­°ï¼Œé€™è¡¨ç¤ºæ¯å€‹è«‹æ±‚å½¼æ­¤ç¨ç«‹ï¼Œä¼ºæœå™¨ä¸æœƒè¨˜å¾—ä¸Šä¸€å€‹è«‹æ±‚çš„ä½¿ç”¨è€…æ˜¯èª°ã€‚
* ç‚ºäº†è®“ä¼ºæœå™¨èƒ½å¤ ã€Œè¨˜ä½ä½¿ç”¨è€…çš„èº«ä»½ã€ï¼Œé€šå¸¸æœƒä½¿ç”¨ Session æ©Ÿåˆ¶ã€‚

### **2. Session çš„é‹ä½œæ–¹å¼**

1. ä½¿ç”¨è€…ç™»å…¥å¾Œï¼Œä¼ºæœå™¨ç”¢ç”Ÿä¸€å€‹å”¯ä¸€çš„ Session IDã€‚
2. é€™å€‹ Session ID é€šå¸¸æœƒé€éã€ŒCookieã€çš„æ–¹å¼å‚³å›çµ¦ä½¿ç”¨è€…çš„ç€è¦½å™¨ã€‚
3. åœ¨å¾ŒçºŒçš„æ¯ä¸€æ¬¡è«‹æ±‚ä¸­ï¼Œç€è¦½å™¨æœƒè‡ªå‹•å¸¶ä¸Šé€™å€‹ Cookieã€‚
4. ä¼ºæœå™¨è—‰ç”± Session ID ä¾†è­˜åˆ¥æ˜¯å“ªä¸€ä½ä½¿ç”¨è€…ï¼Œä¸¦æ ¹æ“šå°æ‡‰çš„ Session è³‡æ–™æä¾›æœå‹™ã€‚

* Session ID é€šå¸¸æœƒå°æ‡‰åˆ°ä¼ºæœå™¨ç«¯å„²å­˜çš„è³‡è¨Šï¼Œå¦‚ç™»å…¥ç‹€æ…‹ã€ä½¿ç”¨è€…åå¥½è¨­å®šç­‰ã€‚
* Session é€šå¸¸æœƒè¨­å®šã€ŒéæœŸæ™‚é–“ã€ï¼Œå¯é€éä½¿ç”¨è€…ä¸»å‹•ç™»å‡ºæˆ–é–’ç½®ä¸€æ®µæ™‚é–“è‡ªå‹•å¤±æ•ˆã€‚

#### 3. **Session vs Token-Based Authentication**

* Sessions: Server stores session data.
* Tokens (like JWT): Client stores token, server stateless.
* When to use each.

### **4. Session è¢«å†’ç”¨çš„é¢¨éšªèˆ‡æ”»æ“Šæ–¹å¼**

* æ”»æ“Šè€…å¯èƒ½é€éæƒ¡æ„ç¨‹å¼ç¢¼ï¼ˆä¾‹å¦‚ JavaScriptï¼‰ä¾†ç«Šå–ç”¨æˆ¶ç€è¦½å™¨ä¸­çš„ Cookieï¼Œé€²è€Œå–å¾— Session IDã€‚
* æœ‰äº›æ”»æ“Šæ–¹å¼åƒæ˜¯ **Adversary-in-the-Middleï¼ˆä¸­é–“äººæ”»æ“Šï¼‰**ï¼Œæ”»æ“Šè€…å»ºç«‹æƒ¡æ„ä»£ç†ä¼ºæœå™¨ä¾†æ””æˆªä¸¦å–å¾—ä½¿ç”¨è€…çš„ Session Cookieã€‚
* é–‹æºå·¥å…·å¦‚ **Evilginx2** å’Œ **Muraena** å°±æ˜¯å°ˆé–€è¨­è¨ˆä¾†é€²è¡Œé€™é¡æ”»æ“Šçš„å·¥å…·ï¼Œå¸¸è¦‹æ–¼é‡£é­šæ”»æ“Šå ´æ™¯ä¸­ã€‚
* ä¸€æ—¦æ”»æ“Šè€…æˆåŠŸå–å¾—æœ‰æ•ˆçš„ Session Cookieï¼Œå°±èƒ½ã€Œå‡å†’ä½¿ç”¨è€…èº«ä»½ã€ç™»å…¥ç³»çµ±ï¼Œé€ æˆåš´é‡å®‰å…¨é¢¨éšªã€‚[^1]

### **3. Session èˆ‡ Token-Based Authentication çš„å·®ç•°**

| é …ç›®     | Session-Based é©—è­‰              | Token-Based é©—è­‰ï¼ˆå¦‚ JWTï¼‰               |
| ------ | ----------------------------- | ----------------------------------- |
| ç‹€æ…‹å„²å­˜   | ä¼ºæœå™¨ç«¯å„²å­˜ Session è³‡æ–™             | Token å„²å­˜åœ¨å®¢æˆ¶ç«¯ï¼Œä¼ºæœå™¨ç„¡éœ€å„²å­˜ç‹€æ…‹ï¼ˆStatelessï¼‰   |
| è³‡æ–™å„²å­˜ä½ç½® | Session ID é€šå¸¸å­˜åœ¨ Cookie ä¸­      | Tokenï¼ˆJWTï¼‰å¯å­˜åœ¨ Cookie æˆ– LocalStorage |
| å®‰å…¨æ€§ç®¡ç†  | å¯ä»¥åœ¨ä¼ºæœå™¨ç«¯æ§åˆ¶å¤±æ•ˆï¼ˆä¾‹å¦‚ï¼šç™»å‡ºæ™‚åˆªé™¤ Sessionï¼‰ | Token é€šå¸¸æœ‰éæœŸæ™‚é–“ï¼Œä½†ä¸€æ—¦ç™¼å‡ºå°±ç„¡æ³•æ’¤å›            |


### **5. å°çµ**

* **Session** æ˜¯ç‚ºäº†è§£æ±º HTTP ç„¡ç‹€æ…‹çš„é™åˆ¶ï¼Œé€éåœ¨å®¢æˆ¶ç«¯å„²å­˜ Session IDï¼Œè®“ä¼ºæœå™¨èƒ½è¨˜ä½ä½¿ç”¨è€…ã€‚
* Cookie æ˜¯ Session æœ€å¸¸è¦‹çš„å„²å­˜æ–¹å¼ï¼Œä½†ä¹Ÿå®¹æ˜“æˆç‚ºæ”»æ“Šç›®æ¨™ã€‚
* å° Session çš„ä¿è­·æªæ–½ï¼ˆä¾‹å¦‚ä½¿ç”¨ HTTPSã€è¨­ç½® HttpOnly èˆ‡ Secure å±¬æ€§ã€å®šæœŸæ›´æ–°æˆ–å¤±æ•ˆ Sessionï¼‰æ˜¯é˜²ç¯„æ”»æ“Šçš„é—œéµã€‚

---

## # OAuth æ˜¯ä»€éº¼ï¼Ÿ

### ğŸ” ç°¡å–®è§£é‡‹

* **OAuth æ˜¯ç”¨ä¾†æˆæ¬Šçš„æ¨™æº–**ï¼ˆä¸æ˜¯ç”¨ä¾†é©—è­‰èº«ä»½ï¼ï¼‰ã€‚
* è®“ä½¿ç”¨è€…å¯ä»¥**æˆæ¬Šæ‡‰ç”¨ç¨‹å¼å­˜å–ç‰¹å®šè³‡æ–™**ï¼Œè€Œä¸å¿…æä¾›å¯†ç¢¼ã€‚
* åƒä¸€å¼µã€Œè¨±å¯è­‰ã€ï¼Œè®“æ‡‰ç”¨ç¨‹å¼å­˜å–æŸäº›è³‡æ–™ï¼ˆä½†ä¸æ˜¯å…¨éƒ¨ï¼‰ã€‚
* ä½¿ç”¨è€…æœ‰æŒæ§æ¬Šï¼šå¯ä»¥é¸æ“‡è¦é–‹æ”¾ä»€éº¼ã€é–‹æ”¾å¤šä¹…ã€‚
* å¯†ç¢¼ä¸å¤–æ´©ï¼Œé¢¨éšªæ›´ä½ã€‚
* å¸¸è¦‹ä¾‹å­ï¼š
  * ã€Œä½¿ç”¨ Google ç™»å…¥ã€
  * ã€Œå…è¨±é€™å€‹æ‡‰ç”¨ç¨‹å¼å­˜å–ä½ çš„ Twitter å¸³æˆ¶ã€

### ğŸšª ç”¨å ´æ™¯ä¾†æƒ³åƒï¼š

ä½ ä½é£¯åº—æƒ³ç”¨å¥èº«æˆ¿ï¼Œ
å¥èº«æˆ¿**ä¸å•ä½ æ˜¯èª°ï¼Œåªçœ‹ä½ æœ‰æ²’æœ‰é£¯åº—ç™¼çš„é–€å¡ã€‚**
é–€å¡ä¸Šå¯«è‘—ï¼šã€Œâœ… é€™ä½ä½å®¢æœ‰å¥èº«æˆ¿ä½¿ç”¨æ¬Šé™ã€â†’ ä½ å°±å¯ä»¥é€²å»äº†ã€‚

OAuth çš„åŸç†é¡ä¼¼ï¼š
æ‡‰ç”¨ç¨‹å¼ä¸ç”¨çŸ¥é“ä½ å¯†ç¢¼ï¼Œåªè¦å¹³å°ï¼ˆåƒ Googleï¼‰çµ¦å®ƒä¸€æŠŠã€Œæˆæ¬Šæ†‘è­‰ã€ã€‚

### ğŸ’¡ OAuth è§£æ±ºçš„å•é¡Œ

ä¾‹å¦‚ï¼šä¸€å€‹ç›¸ç°¿æ‡‰ç”¨æƒ³è®€å–ä½  Google Drive çš„ç…§ç‰‡ã€‚
ä½ ä¸éœ€è¦çµ¦å®ƒ Google å¯†ç¢¼ï¼Œæµç¨‹æœƒæ˜¯ï¼š

1. é»ã€Œä½¿ç”¨ Google ç™»å…¥ã€
2. Google æœƒå•ä½ ï¼šã€Œå…è¨±é€™å€‹æ‡‰ç”¨ç¨‹å¼å­˜å–ä½ çš„ç…§ç‰‡å—ï¼Ÿã€
3. ä½ é¸æ“‡å…è¨± â†’ Google ç™¼å‡ºä¸€å€‹ã€ŒTokenï¼ˆå­˜å–æ†‘è­‰ï¼‰ã€
4. æ‡‰ç”¨ç¨‹å¼å°±åªå¯ä»¥è®€ä½ çš„ç…§ç‰‡ï¼Œä¸èƒ½çœ‹éƒµä»¶æˆ–è¯çµ¡äººã€‚

âœ… ä½ æ²’æ´©éœ²å¯†ç¢¼
âœ… å¯ä»¥éš¨æ™‚å–æ¶ˆæˆæ¬Š

### ğŸ”„ èˆ‡èº«ä»½é©—è­‰ç›¸é—œï¼šOpenID Connectï¼ˆOIDCï¼‰

* **OIDC = OAuth 2.0 + èº«ä»½å±¤**
* åŠ å…¥ã€Œä½ æ˜¯èª°ã€çš„è³‡è¨Šï¼ˆå¦‚åå­—ã€Emailã€é ­åƒï¼‰
* æ‰èƒ½å¯¦ç¾ã€Œç™»å…¥ Google å¸³è™Ÿã€é€™ç¨®åŠŸèƒ½

### ğŸ§  ç¸½çµè¡¨

| åç¨±                 | è§£é‡‹                                  |
| ------------------ | ----------------------------------- |
| **OAuth**          | å®‰å…¨è®“ App å­˜å–ä½ å…¶ä»–å¸³è™Ÿçš„ä¸€éƒ¨åˆ†è³‡æ–™ï¼ˆå¦‚ Google çš„ç…§ç‰‡ï¼‰ |
| **Token**          | ä¸€æŠŠé™åˆ¶å­˜å–ç¯„åœçš„ã€Œé‘°åŒ™ã€                       |
| **OpenID Connect** | åœ¨ OAuth åŸºç¤ä¸ŠåŠ å…¥ã€Œèº«ä»½è³‡è¨Šã€ï¼Œå¯ç”¨ä¾†åšç™»å…¥åŠŸèƒ½        |


---

## SIN

### 5. **Threats and Attacks on Authentication Systems**

* Brute-force and dictionary attacks
* Phishing and credential theft
* Credential stuffing
* Keyloggers and spyware
* Man-in-the-middle (MITM) attacks

### Complex password not practical
## PassWord
ç¾åœ‹åœ‹é˜²éƒ¨ç¶ çš®æ›¸ å¯†ç¢¼è©²ç”±æ©Ÿå™¨åˆ©ç”¨æ¼”ç®—æ³•ç”Ÿæˆ [^é€£çµ](https://apps.dtic.mil/sti/citations/ADA425705)

æ¯å€‹ç¨ç«‹ ä¸é‡è¤‡ è¤‡é›œçš„å¯†ç¢¼ é‚„è¦èƒŒä¸‹ä¾† ä¸åˆ‡å¯¦éš› 
å¤šå°é›»è…¦èˆ‡ä¸åŒç¶²ç«™ä¸Šé‡è¤‡åˆ©ç”¨ç›¸åŒçš„å¯†ç¢¼

## Password decrypted
æš´åŠ›ç ´è§£ å­—å…¸æ”»æ“Š æ’åº«æ”»æ“Š(TODO:MSç”¨æˆ¶å¯†ç¢¼æ½‘ç‘?1240/27)
é›œæ¹Šå¯†ç¢¼ç ´è§£ åå‘çŒœå¯†ç¢¼ æ¯”å°é›œæ¹Šçµæœ
é‡å­ é›²ç«¯è¨ˆç®—
èŠ±å¤šå°‘æ™‚é–“ç ´è§£ > èŠ±å¤šå°‘éŒ¢ç ´è§£

## MFA
ä¿¡ä»»æ­¤è£ç½®

## Password Leak
å„²å­˜å¯†ç¢¼æ–‡ä»¶å¤–æ´© å¯†ç¢¼ç®¡ç†å·¥å…·å¤–æ´©
å¾ç³»çµ±ä¸­å–å¾—åŠ å¯†å¯†ç¢¼æ¸…å–®ï¼Œä¹Ÿä¸éœ€è¦ç ´è§£äº†
key logger

## Biometric
ç”Ÿç‰©é©—è­‰å¤±éˆ
ä»°è³´å¯†ç¢¼

## ID Verification
é©—è­‰åŠŸèƒ½ç¨‹å¼å¯«çš„æ¼æ´ç™¾å‡º æ²’ç”¨ EX: T MOBILE 2005 æ‹‰å¤¸ å¸Œçˆ¾é “
Session 


d custom password retrieval tools on victims.[47][3] They have also dumped the LSASS process memory u


### ğŸ”¥ What is Session Hijacking?

Session hijacking occurs when an attacker steals or guesses the session identifier (usually a cookie) and uses it to access the victimâ€™s active session. Since the server trusts the session ID, the attacker is treated as the legitimate user â€” no additional authentication needed.

# âš ï¸ Session fixation vs session hijacking (short)

* **Fixation**: attacker sets/controls the session ID before login and reuses it after victim authenticates.
* **Hijacking**: attacker steals an already-active session identifier and uses it.

## Replay attack
Why it matters

What a replay attack is (1â€‘line): an attacker captures a valid authentication message (e.g., a login request or auth token) and resends it later to impersonate the user.

Why relevant to â€œpassword & authenticationâ€: many modern attacks arenâ€™t against the hashed password in your database but against the authentication exchange â€” e.g., stolen tokens, intercepted login requests on an insecure network, or reuse of oneâ€‘time responses.

When to include it

Include replay attacks if your talk covers any of:

Transport or network layer (HTTP, TLS, plain HTTP).

Session tokens, cookies, JWTs, bearer tokens, or API keys.

Challengeâ€“response flows, OTPs, or authentication protocols (Kerberos, SRP, NTLM, etc.).

Multiâ€‘factor or passwordless flows where tokens/one-time codes are used.


[^1]: https://attack.mitre.org/techniques/T1539/




