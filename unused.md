ch2.0{
    ### 電腦連不上網 不等於沒有受到C2控制
    連網?一般想到的是可以瀏覽網頁，通外網，但沒有內網  Adhoc
    內外往常指 IEEE
    還有其他 通訊手段協定

    ### 以為警察會處理
    光處理事情就更多了 還資安 也沒那個資源 
}

ch2-1{

    若人們對這些風險缺乏認知，將會在毫無防備的情況下，不斷將脆弱的裝置連接到網路，會讓駭客擁有很大的攻擊面積，進而讓整個社會暴露在極高的資安風險之中。

    這些風險對不同角色造成的影響也不盡相同：

    * **對一般民眾而言**，物聯網裝置與人臉辨識等技術的大量結合，使得日常生活中的監控風險大幅上升。
    * **對軟體、硬體及網路等供應商而言**，若提供的產品存在安全漏洞，不僅自身受害，更可能連帶危及整個供應鏈。
    * **對於保管敏感資訊的單位**——如銀行、政府、軍方等，一旦遭到入侵，可能導致大量機密資料外洩。

}

ch2-2{
    - 荷蘭警告Citrix NetScaler出現重大漏洞攻擊行動，當地企業組織已傳出受害[^6]
    - 法國企業組織遭中國駭客UNC5174鎖定，透過Ivanti CSA設備零時差漏洞入侵[^11]
    - 瑞士政府周一指出，受非營利機構Radix受勒索軟體攻擊事件波及，致使數個瑞士政府機構辦公室資料外洩[^4]。
    - Dell傳出遭駭客組織World Leaks勒索，該公司坦承測試平臺遭駭[^1]
    - 6月26日，勒索軟體Dire Wolf鎖定臺灣、美國、泰國而來，科技與製造產業是主要標的[^2]
    - 今年1月、5月兩度遭到勒索軟體攻擊的矽光子及光電封測大廠聯鈞光電[^3]。    
    美國國家安全局(NSA)與英國政府通訊總部(GCHQ)遭窺探
    實驗室 中國產品發訊號
}




ch3.0{
    > **「稱職修車工的首要條件，不應是擅長往油箱裡倒糖。」**
    > —— 反映出資安防守與破壞之間，技能上的不對等。
}

ch3-1.a{
    **真實案例**：Eric Allman 的 `sendmail` 曾無意留下除錯用後門，後被臭名昭著的 **Morris 蠕蟲** 利用，成為網際網路史上首例大規模攻擊事件。
}
ch3-1.b{
    **蠕蟲**
    1988 Morris 蠕蟲
    紅色警戒 red code 造成約26億美元以上的財物損失 A116
    尼姆達 nimda A117

    快速蠕蟲感染網際網所有弱點的電腦只需要幾分鐘，甚至幾秒鐘
    Slammer
    Blaster
    Welchia
    Sobig
    Sasser 讓香港醫院當機，美國達美航空取消四十趟班機，感染澳洲鐵路網使數以千計的火車乘客動彈不得
    ### 3.
    TODO:
    1994 賈伯斯被問是否可能出現使用零時差弱點 快速傳播 帶有毀滅性酬載的蠕蟲?
    把臉埋進雙手 一棟不動一聲不響 "不 他們需要網路 不會砸自己吃飯的郭"
    可以窺見 沒發生不是技術問題 是沒有動機
    推估一小隊有技術的人就可以辦到[^1]

    ### 6. 協定的便利與風險
    許多協定**創立基於便利性，因此也缺乏安全性**。像是DNS讓使用者無需記住難以辨識的數字 IP 位址，大幅提升了網路的可用性與便利性，然而這樣的設計同時也為攻擊者創造了可乘之機。或是FTP 協定缺乏加密機制，使用者認證流程也不夠嚴謹，導致攻擊者或已入侵的帳號有機會上傳惡意檔案至伺服器。

    ### 網頁連覽器
    broswer電腦上的軟體，沒辦法在電腦控制下，能攻擊到電腦
    恣意讀取電腦上的各種檔案，跑各種指令，修改或刪除資料，插入惡意程式各種功能監聽。
    Session hijacking 

    ### 網路監禁問題
}
ch3-1.c{
    bluesnarfing 藍芽竊聽
    ## 網際網路的延伸
    **安全議題**：數據網路容易遭遇SIM卡複製、中間人攻擊及SS7漏洞，5G帶來大量物聯網裝置與網路切片的新挑戰，需嚴密防護以防資安入侵。
    **安全議題**：衛星通訊面臨訊號干擾、資料攔截及地面站網路攻擊等威脅，衛星連結也易遭冒充或未授權存取，需加強資安防護。    
}
ch3-1.d{
    烏克蘭電廠20年未更新，駭客入侵電廠的控制設備，只消幾秒鐘就能切斷電力供應
    駭客經常竄改韌體內容在裏頭植入惡意功能，試圖長期不被發現活動蹤跡，就算重裝作業系統或更換硬碟也能繼續存活。
另外竄改某些韌體(BIOS或UEFI)的組態變數，已讓駭客停用某些硬體支援的安全控制，例如安全啟動(secure boot)
}
ch3-2.a{
### Linux應對
ASLRR 位址空間配置隨機 Address Space Layout Randomization 之前一般都是位在記憶體空間頂部 ASLR隱藏堆疊
ASLR很快失效 駭客找到堆疊位址的方法
推出ESP 可執行空間保護 Executeable Space Protection 會將推疊所在的記憶體為指標是為不可執行 就算破解ASLR找到植入代碼 ESP也會拒絕執行
ESP 失效 Return Oriented Programming返回導向程式設計 不再將惡意軟體植入堆疊 而是尋找堆疊外可以協助完成任位的代碼片段
ROP中 每個片段結尾的指令 都是返回到堆疊 每個片段的記憶體位只放在堆疊上 串接再一起執行惡意程式 
片段跳轉到堆疊 堆疊跳轉到片段 控制程式流    

SQL注入 相對容易預防 卻還是很常見
}
ch3-2.c{
    ### **5. Impacts: What Are the Consequences?**

    The consequences of MITM attacks can be severe for both individuals and organizations:

    * **Data Theft**:

    * Sensitive personal or financial information (e.g., usernames, passwords, credit card details) can be stolen and used for malicious purposes such as identity theft, fraud, or account takeovers.

    * **Loss of Data Integrity**:

    * Attackers may alter the communication in transit. For example, a bank transfer could be modified to redirect funds to the attacker’s account, or malicious code could be inserted into otherwise legitimate files.

    * **Impersonation**:

    * The attacker can impersonate either of the communicating parties. This can lead to unauthorized access to systems, malicious transactions, or spreading misinformation.

    * **Undermining Trust**:

    * MITM attacks erode trust in online communications. If users begin to suspect that their communication is being intercepted, they may avoid using certain services or sharing sensitive information, which can hurt businesses and disrupt online services.
    
    * **Silent traffic redirection**: Victims may unknowingly connect through the attacker’s gateway or use malicious DNS servers, enabling phishing, session hijacking, or malware injection.

    * **Reputational Damage**:

    * If an organization is compromised by a MITM attack, the resulting data breach or financial loss can severely damage its reputation, especially if customers' sensitive information is involved.
}

ch3-2.b{
    欠缺資安溢式的使用
    PEBCAK
    * 簡訊釣魚（SMS phishing / Smishing）：透過 SMS 或即時訊息發送惡意連結或驗證碼催促。
    當透過 SMTP（簡單郵件傳輸協定）發送電子郵件時，初始連線會包含兩個地址資訊：

    * **MAIL FROM**：這通常是收件人看不到的「Return-path」位址，系統預設不會**驗證寄件者是否有權代表該地址發信**。
    * **RCPT TO**：指定郵件要送到哪個地址，通常使用者也看不到，但可能會出現在郵件標頭中的「Received」欄位。

    這兩者就像傳統信封上的寄件人與收件人資訊，合稱為「信封地址」。
    在伺服器確認這些地址沒問題後，發信系統會發送「DATA」命令，並加上其他標頭資訊，如：

    * **From**：顯示給收件人的寄件人地址，但系統也不會驗證其真實性。
    * **Reply-to**：指定回信地址，也不經驗證。
    * **Sender**：實際寄件人，同樣不驗證。

    因此，**收件人看到的寄件地址（From）可能是假的**。如果回信，會寄到 From 或 Reply-to 指定的地址，但這些地址往往不可靠，有時會造成「回信風暴」或垃圾信件回彈（backscatter）。

    雖然發信地址可以偽造，但郵件標頭中的「Received」欄位通常能追蹤到發信電腦的 IP 位址。**不過在惡意情況下，這台電腦可能是被感染的無辜用戶機器**，使用者本人甚至不知道郵件是從自己電腦發出的。
}
ch3-2.c{
    緩解
    CDN contents delivery network
    同一內容的快取分散在網路上
    ### 網際網路服務提供商（ISP）

**合法中間人？**

在某些情境下，資料流量也可能經過所謂的「合法中間人」，這些角色在技術上具有類似 MITM 的能力，但其行為可能出於合法或受信任的目的。像是:

- 網路管理員（如學校或公司）
- 網際網路服務提供商（ISP）
- VPN 業者

ISP 能夠攔截未加密的流量、進行監控，甚至修改內容。

### VPN 業者**

VPN 服務商可能有能力存取使用者的加密資料或連線日誌，因此可視為一種**受信任的中間人**。他們可以在理論上解密並查看你的網路流量。

### 網路管理員（如學校或公司）**

網路管理員為了執行安全政策、流量管控等目的，可能會監控或分析使用者的資料流。他們在技術上也處於**通訊過程的中間位置**，因此有能力在使用者不知情的情況下進行監聽或資料操作。

* Banking trojans (e.g., Zeus, SpyEye, Dyre)
* Zeus (2007–2015): Intercepted bank logins, injected extra fields.
* Dridex, Emotet: Delivered via email, hijacked browsers to steal financial info.
* RedLine stealer, modern crypto wallet stealers: Grabbing session tokens.


}
ch3-3.e{
## 黑箱測試（Black-box Testing）

**定義：** 測試者不需要知道系統內部實現，只根據需求或介面輸入輸出來驗證系統行為。
**常用技術：**

TODO: 模糊 搭配 等價劃分&邊界值?
* 模糊測試（Fuzzing / Fuzz Testing）：對介面輸入大量隨機、畸形或邊界資料以找崩潰或未處理的錯誤。
* 等價類劃分（Equivalence Partitioning）：把輸入空間分成等價類，代表性測資取自各類別。
* 邊界值分析（Boundary Value Analysis）：針對輸入的邊界值及附近數值設計測試，用以捕捉常見錯誤。
  **優點：** 不依賴內部實作，適合驗證需求與整體功能。
  **注意事項：** 不能保證覆蓋所有內部路徑；設計測資時應結合等價類與邊界分析提升效率。    

## 白盒測試（White-box Testing / Clear-box）

**定義：** 測試者了解系統內部結構與程式碼，設計測試以覆蓋特定程式路徑、條件或分支。
測試時考慮內部結構，檢察系統內部的程式是否按照預期運作
經常用在是否正確發揮功能的單元測試中
**常見形式：**

* 單元測試（Unit Testing）：針對最小模組（函式、類別）驗證其行為與邏輯。
* 集成測試（Integration Testing）：檢驗模組間互動是否正確。
  **優點：** 可驗證內部邏輯、條件分支、例外處理；有助於發現隱藏的邏輯錯誤。
  **注意事項：** 需要程式碼可測性（例如依賴注入、模擬物件），過度依賴實作細節可能導致測試維護成本上升。

### 源碼檢視 / 靜態分析（Code Review & Static Analysis）

**定義：**

* 源碼檢視：人工或同儕審查程式碼，尋找邏輯錯誤、風格問題、安全隱患與可維護性問題。
* 靜態分析：使用工具在不執行程式的情況下分析程式碼（找記憶體漏洞、未初始化變數、潛在的安全風險等）。
  **優點：** 可以早期抓到錯誤、提升程式品質與一致性，靜態工具尤其擅長發現難以透過測試覆蓋到的缺陷。
  **注意事項：** 靜態分析會產生誤報，需要人工判讀；源碼檢視需要良好流程與檢視規範以提高效率。    

  安全措施方針的效益是一回事，像是VLAN跳躍（hopping）、DMZ繼續入侵。本身就是建立在犧牲大量方便性上，然而

}

ch3-4.b{
    ### 贏者全拿
    作業系統 贏家拿下整個市場 輸家一無所有
    不同作業系統 程式碼不互通 為新的作業系統寫程式 非常耗錢費力 挑戰者將被拒於門外
    單株性
    (多元化也有問題 須一一監控各類軟體需求修補)
### 資訊不交流
公司嚴加保密他們遭受攻擊的事情，組織常決議狀但並未發出通知，或是組織本就遭駭但渾然為覺
Uber在2016資料外洩，副10萬美給駭客讓他們閉嘴。事後調查發現 公安安全長與其一名律師後續遭到解雇
資安業者每家業者想辦法擊敗市場上對手
不交流 難改善   

減少用戶被帶往惡意網站的網址檢測服務，竟成為駭客洗白釣魚網址服務的管道[^6]

使用者到管理員，面對憑證警告，只會選擇忽視

微軟、Palo Alto Networks、SentinelOne宣布退出MITRE資安評測，引發外界質疑測試機制失焦[^9]
}

{
    由於大公司越來越重視資安，且攻擊大公司較易被調查單位盯上，
駭客紛紛轉而將目標放在中小企業
◆ 中小企業常成為「供應鏈攻擊」中最一開始的破口，造成難以想
像的財務與品牌衝擊
◆ 高達 60% 中小企業會在被攻擊後的半年內宣吿停業
◆ 55% 消費者表示，不會繼續使用曾受網路攻擊品牌
所有企業最大的挑戰是在管控自身安全的同時，
也能夠確保供應商的網路安全等級，避免淪為駭
客間接攻擊的目標
}
{
    只要是機密，就不可隨意亂傳！
常見機密資料包含使用者帳密、內部加密資料等，只要
牽涉機敏資訊或相關機密文件，就必須多加留意。尤其
是在使用網路及雲端服務時，應避免將機密文件上傳到
未經認證的網站，或透過非加密方式傳遞給他人或外部
網站，以免造成機敏資訊外洩。
重要資料加密、加密、再加密！
生活中或工作上互相傳遞資料十分常見，甚至是必要的
網路行為。不過在儲存或傳輸重要資料之前，切記要
先將這些資料進行加密處理。
強化資料存取與控制的安全機制
對於機密資料或重要文件，應實施更全面且嚴格的權限
管理機制。例如，當有人需要取得資料或系統的使用權
限時，先進行身分驗證；進出重要資料的儲存場所時，
需做好實體的進出人員管制等。而針對經常使用的帳
號，除密碼需符合基本複雜度要求外，也別忘了開啟雙
因子驗證（2FA）、多因子驗證（MFA）等身分認證機制。
3-2-1 法則 : 對抗資料遺失
指「重要資料應至少備份 3 份、備份資料應分別儲存
於 2 種不同的存放媒體、其中一份需置於異地存
放」。徹底實踐 3-2-1 的備份法則，才能避免受到網
路攻擊時，備份資料遭受攻擊或遺失的風險。
}
{
    1. 資通安全之於國家安全的重要性，資安事件層出不窮
美國在九一一事件後創建新的國土安全部，同時發展資安策略，並將冷戰時期的威懾理
論應用於資安領域，認為強化國家的資通安全不僅能抵禦外部的網路攻擊，亦能使他人感到
侵略成本過高而產生勸阻效果。然而，儘管 2003 年起美國政府已開始發展資安政策，政府單
位中遭遇之資安事件仍層出不窮 1
。例如美國國務院網路曾被隱藏在電子郵件內的惡意程式
破壞；美國運輸安全管理局曾遺失存有受雇資料的硬碟。另一方面，美國國防部報告指出自
2007 年起觀察，多起資安攻擊皆來自中國，世界各國逐漸發展出足以破壞美國資通訊基礎建
設的能力，故美國政府勢必採取更為積極的措施，以抵禦外界威脅，防止重大資安危害 2

}

{
    
Katherine Archuleta "網路安全問題是醞釀了數十年的沉痾，整體政府對其都有責任，我們需要集眾人之力去解決這個問題"

- 教科書與實務脫節 || 書本、訓練講義、專業認證，侷限固有的知識體系，跳出就思考巢臼的可能性


實際上的挑戰，是最簡單的社交工程，或是已公布的弱點，搶在修補之前攻擊，來自整個供應鏈、信任關係任何一個環節的破口，成為整體破口
組織把時間都花在這上面，


雖然我們一而再而在三地看到，幾乎所有電腦都無力對抗入侵與操控，但認清其淺在破壞性的人卻很少，有能力去採取行動處理問題的人更是少之又少
- "我們需要擁有技術心智的高手來辨別、回報和保護這個社會，以免遭受網際網路事件危害，但擁有這般偉大胸懷、高超技術和合適工具的人太少了"
- 安全對抗複雜，未來越複雜，保持安全的難度就越高

當前安全實施多困難，多少環節、多少步驟、多少管制措施

資安廣且深
軟體開全 網路安全 密碼學
每個區塊都複雜
分工合作 傳業分工效率好 但也變得不容易全盤看問題
少了大局關 可能發展出錯誤 無效的手法技術 特定領域難以解決整體資安
}
{
### 安全開機
TPM trusted platform module 安全晶片
保管金鑰 還有各種密鑰和雜湊職相關的計算功能

以信任練的方式進行安全的開基程序
信任練chain of trust, A信B B信C 一環一環
信任根rot root of trust 具有防竄改性的硬體    

### 程式語言
Rust C#透過設計，讓程式語言生成的程式碼，不回受到緩衝區溢位或其他特鄧安全弱點的威脅。
防注入格式


### 弱點改善

雖然窮盡弱點遙遙無期，但確實一步一步的前進，許多語言阻止了記憶體溢出和注入攻擊的一些，已知的漏洞類型隨著普及有越來越少在成熟的開發環境出現
}

{
    

## 筆者的框架

安全不應該那麼複雜，不會買一台手機，搭配一堆防爆炸設備，重心應該是安全的手機，不是安全的防護設備。一堆安全措施管制，不能拿太近，要盡量遠離身邊。不會有一堆在後復原處理小組

### 1. 普發的實體金鑰
硬體金鑰（U2F/WebAuthn）
Oauth概念延伸，不需要知道身分，核發功能的卡片
許多網站服務註冊，沒有必要註冊真實資料

反過來，實體核發的卡
有效辨識身分，不儲存不需要的敏安資訊，不在需要既複雜密碼，不用擔心生物辨識失靈
裝置上支援NCF or 讀卡，卡片單純簡單防竄改，只能唯讀

可以購買"使用google產品服務"的實體卡，
硬體上的安全，簡單的卡，唯獨裝置，像是悠遊卡、通行卡、信用卡
類似的概念，智慧手機FIDO2，但是目前智慧手機功能太多太複雜，被入侵的智慧手機太難控制，就算使用生物認證，被控制的智慧手機有可能繞過。

如同身分證，政府這邊實體稽核本人，發放有授權功能的金鑰，金鑰本身不需要儲存任何敏感資訊，金鑰只需要有跟使用者連結的一個湊湊函數就夠，實際上這也不是必要的，僅僅是如果遺失，可以很簡單的本人驗證去補發。
對政府沒信心的，也可以選擇在商店直接匿名購買，金鑰就不會跟使用者有任何關係，缺點就是如果所有跟這個金鑰的資訊都遺失了，那就沒辦法證明自己是金鑰的主人。

重點
- 對抗複雜性 || 足夠單純 可以驗證安全性 無法後門
- 對抗資料程式共用、安全產品是跑在 || 唯獨、沒有任何可修改、編程的要素 
- 對抗資料外洩 || 資料量少 或 資料沒有意義
- 使用權限也跟身分脫離 
- 對抗劫持 || 
- || 不用記密碼、不用擔心生物識別失靈

挑戰
- 需要花時間部屬感應裝置
- 需要時間調整使用習慣
- 卡片製造、購買需要金錢，但也可這構成犯罪份子濫用門檻


### 2. 實名網路環境

一個健康的環境建構在當前之上
非強迫性的，也不會破壞原有的，有意願的自主加入
有別於暗網，需要身分認證的網路
建立於當前網路之上，不影響擁有匿名性的現有網路
有安全性需求的裝置可以選擇只接受來自明網的流量
Network protocal改寫 ID識別

實名金融交易

建立在原有的之上，
可以選擇只跟符合KYC的機構有金錢流動

### 3. 網路犯罪抵制聯盟

執法 引渡
互相不侵入

### 3. 產品設計 人機互動

防竄改 防通訊
如同滑蓋物理遮擋鏡頭，能不能物理的阻斷麥克風、通訊單元、電力供給

二元性回推?
存放輸入資料的記憶體區域不可執行程式

當有推薦的作法時，應該是預設啟用，而不應該是需要教育，或是良好的使用習慣

減少使用者需要作決定的，只讓使用者接觸到需要用的面向，像是ATM
安全溢用性問題`，隱私與安全研討會SOUPS，易於使用，讓使用者慣常自動地把保護機制正確運用出來


### 習慣

飛航業者，不會因為損失客人，而允許不符合航安規定的客人上機
翻修、施工 暫時性的惡化
航安步驟並不少，大家願意配合，公民意識
飛機海關等檢查，不會嫌多


### 方向

不需要個個組織花資源培養紅隊，紅隊可以官方集結
被駭才有感覺 中央滲透釣魚測試

在駭客技術日新月異的當今，資安防護不同於以往「滴水不漏」的
觀念，而是學習降低風險及提升資安韌性，確保在遭遇駭侵的當下
可立即反應、即時止損。


IIST 結合後量子密碼學展前瞻資安方案亮相 打造半導體產業防線[^2]


3. Short-lived Certificates（短效期憑證）
例如 Let's Encrypt 預設憑證有效期為 90 天。
透過自動更新降低吊銷必要性：「不撤銷，讓它自動過期即可」。
}

{
    ### ✅ Summary Table

| Aspect            | CSIRT                                    | CERT                                  |
| ----------------- | ---------------------------------------- | ------------------------------------- |
| Meaning           | Computer Security Incident Response Team | Computer Emergency Response Team      |
| Generic/Trademark | Generic term                             | Trademarked by CMU (SEI)              |
| Origin            | Evolved naturally with cybersecurity     | Created after the 1988 Morris Worm    |
| Usage             | Common in private orgs                   | Used with permission or in government |
| Function          | Handles cyber incidents                  | Also handles cyber incidents          |

---

### 💡 In Practice:

> Most **CERTs are CSIRTs**, but **not all CSIRTs are CERTs**.

For example:

* A bank may have an internal **CSIRT**, not called a CERT due to trademark restrictions.
* A national government team might be called **CERT-X** (e.g., CERT-UK) with appropriate permission.    
兩人規則 許可行動連結(permissive action link)
重要安全決定 兩個獨立的個人合作進行 降單低一個人誤判形勢造成傷害的可能性

工程師寧缺勿濫

visual studio .net 邊憶起產品內建堆疊保護機制 有助於舒緩堆疊基礎的歡衝區溢位風險
stack guard
靜態驅動程式驗秤氣 static driver verification, sdv 驅動程式開發工具包　windows driver development kit
開發windows上的裝置驅動程式 並以靜態驅動程式驗證氣來檢查漏洞
公司將安全性納入開發的必要考量，如同開發測試，比起軟體開發後期亡羊補牢，越早發現促勿越早修補，能省下的成本就越多。安全性也該是這樣，減少安全弱點的數目，提升軟體品質，事後的補救就越少。

### 🔚 小結：四大支柱角色

| 名稱                | 關鍵角色                  | 使用對象            |
| ----------------- | --------------------- | --------------- |
| **MITRE**         | 漏洞與攻擊技術建模（CVE、ATT&CK） | 威脅情報、藍隊、紅隊      |
| **OWASP**         | 應用程式安全實務與資源           | 開發、測試、AppSec 團隊 |
| **NIST**          | 政府/企業資訊安全政策與框架        | 政策制定者、CISO、政府標案 |
| **ISO/IEC 27001** | 國際資安治理與審核標準           | GRC 顧問、合規團隊     |

}