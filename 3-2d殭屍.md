# 【17】資安的原罪 ch.3-2.d 殭屍網路
What if your device was part of a cybercrime ring… and you didn’t know

##  What is a Botnet?

* **Definition**: A *botnet* is a network of compromised devices (called "bots" or "zombies") that are remotely controlled by an attacker (the *botmaster* or *bot herder*)—usually without the device owner’s knowledge.
* **Purpose**: To carry out large-scale malicious actions such as DDoS attacks, data theft, spam, crypto mining, or spreading malware.

## Basic components:
* Botmaster/Controller: The person or group controlling the botnet.
* Command and Control (C2) infrastructure: The mechanism through which bots receive instructions.
* Bots/Zombies: Infected devices (PCs, IoT, servers, mobile devices).

## How botnet works?
### Infection vectors (phishing, malicious downloads, drive-by downloads)
### Progresive Payload
* 常見的感染途徑：釣魚郵件、惡意下載、被入侵的第三方外掛、或利用已存在的惡意程式（botnet）部署模組。 botnet multiple payload

階段是酬載投遞
第一個酬載投遞 簡單的遠端存取木馬(RAT) 可提供命力和控制 主要偵查
若目標價值高 則可啟動第二酬載投遞階段 接收dropper 部署第二階段惡意軟體
避免將進階惡意晚體暴露資安公司

### Command and Control (C\&C) mechanisms: centralized vs decentralized (P2P)
### C2
命令與控制 command and control 伺服器
代理中繼伺服器 proxy relay 中段伺服器 middle server

### Evasion techniques used by botnets
#### rootkit
一套可以遠端控制主機的後們程式(backdoor)或木馬程式(trojan)
隱藏
最高權限root

#### Botkit
bootkit 感染主啟動紀錄MBR進行持久畫


**Communication methods:**

* Centralized (e.g., IRC, HTTP-based C2)
* Decentralized (P2P botnets)
* Fast-flux DNS or domain generation algorithms (DGA)

TODO: SMB PIVOT, DNScat2, BEACON


### **4. Common Uses of Botnets**

* **DDoS attacks** (Distributed Denial of Service)
耗盡可用寬頻、網路連結、記憶體、儲存空間或中央處理器等資源 伺服器忙著回應虛假請求
* Credential stuffing & brute-force attacks
* **Spam and phishing email distribution** 反應爐郵寄者 Reactor Mailer
* **Click fraud / ad fraud**
* **Cryptocurrency mining**
* **Proxying traffic** to hide attacker identity
* **Spreading additional malware or ransomware**
* Cryptomining (cryptojacking)
* Data theft

流量
DDoS defender targeted in 1.5 Bpps denial-of-service attack [^2]

### **9. Emerging Trends**

* **Botnets-as-a-Service (BaaS)** on the dark web
* **Self-updating / polymorphic bots**
* **AI-assisted botnet control**
* **IoT and mobile device botnets**
* **Encrypted C2 traffic** (using HTTPS or Tor)

---

# example
Netcurs 900萬台[^1]
mirai便寵 drake dingle chickenmelon 70萬系統 100GB/s流量
值得關注的是，殭屍網路攻擊從感染裝置到完全清除的平均時長，在2023年上半年攀升至近1.5個月，是5年前的1000倍以上，這也意味著殭屍網路對受感染企業的影響時間將大幅拉長，可能造成更加龐大的資安風險與營運損失。[^9]
* 🕷️ **Mirai**: Famous IoT botnet that took down major websites (Netflix, Twitter) via DNS provider Dyn in 2016.
* 🦠 **Emotet**: Started as banking malware, evolved into a modular botnet for spam and malware distribution.
* 👾 **Zeus/Zbot**: Banking trojan with MITB features, often used in botnets.
* ⚠️ **QakBot**: Multifunction botnet used for ransomware delivery before its takedown in 2023.

* **Mirai Botnet**: Brought down major websites like Twitter, Netflix via DDoS in 2016
* **Zeus/Zbot**: Banking Trojan used for credential theft
* **Emotet**: Once one of the most dangerous botnets for spam and malware delivery

--- 

## 原罪

### 6.通訊塞車

顛峰時段塞車正常。但無法阻止有人隨意控制成群車子製造塞車

### 責任轉移
殭屍電腦的元兇。但責任卻轉移到要普通民眾不成為殭屍，困難

### 公地悲劇
他人收到垃圾郵件或遭到阻斷服務於，自己無關，

### 
DDOS 正常現象 是現象被濫用
預防DDOS 提升運算資源 浪費過多資源成本
DDoS殭屍網路普遍鎖定Linux、物聯網裝置[^6]

## 連線通訊機制

- TCP機制 SYN洪水
- UDP洪水攻擊


### **3. Infection & Propagation Vectors**

* **Phishing emails** (with trojans)
* **Drive-by downloads**
* **Exploiting unpatched software or open ports**
* **Malicious browser extensions or cracked software**
* **IoT devices with default credentials or no firmware updates**

[^1]: https://www.cic.police.ntpc.gov.tw/cp-755-73423-28.html
[^6]: https://www.ithome.com.tw/news/169020
[^2]: https://www.bleepingcomputer.com/news/security/ddos-defender-targeted-in-15-bpps-denial-of-service-attack/