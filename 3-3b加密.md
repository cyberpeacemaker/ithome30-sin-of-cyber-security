# 【20】資安的原罪 ch.3-3.b 加密與憑證簽章


### What is Encryption?

Encryption is the process of converting data into a **coded form** (ciphertext) to prevent unauthorized access. The idea is to ensure that even if data is intercepted, it can't be read or used without the proper decryption key.

### Key Concepts:

1. **Plaintext**: The original, readable data (e.g., a message, file).
2. **Ciphertext**: The encrypted version of the plaintext. It looks like random data and is unreadable without decryption.
3. **Key**: A piece of information (often a string of characters or a number) used by an algorithm to perform encryption and decryption. The security of encryption depends largely on the secrecy of the key.
4. **Algorithm**: A mathematical procedure that defines how encryption and decryption happen. Some common algorithms include:

   * **AES (Advanced Encryption Standard)** – widely used for data encryption.
   * **RSA** – often used in secure communication for key exchange.
   * **ECC (Elliptic Curve Cryptography)** – gaining popularity for its efficiency in securing smaller devices.

### Types of Encryption:

1. **Symmetric Encryption**: Uses the same key for both encryption and decryption.

   * Example: AES.
   * **Pros**: Fast.
   * **Cons**: Key distribution is a challenge—if the key is intercepted, the data is compromised.
2. **Asymmetric Encryption**: Uses two keys: a **public key** (to encrypt data) and a **private key** (to decrypt it).

   * Example: RSA.
   * **Pros**: More secure for key exchange because private keys are never transmitted.
   * **Cons**: Slower than symmetric encryption.

### Use Cases:

* **Secure Communications**: Ensuring that messages or calls can't be intercepted and read by unauthorized parties.
* **Data Protection**: Protecting sensitive data like passwords, credit card details, or files stored on devices or servers.
* **Authentication**: Using encryption in protocols like SSL/TLS (for HTTPS) to verify identities.

### Real-World Example:

When you access a website over HTTPS, your browser and the web server exchange public and private keys. The communication between them is encrypted so that no one can spy on your session or tamper with the data being sent.

In short, encryption is a core method to protect data from unauthorized access, ensuring confidentiality and integrity in digital communications and storage.


TODO:
## SSL協定
通訊加密
部屬超文本傳輸協定 HTTPS
HTTP TLS 類似結果 [連結](https://www.usenix.org/conference/usenixsecurity17/technical-sessions/presentation/krombholz)


1. **Introduction to Security & Trust**

   * **Objective**: Start with the importance of **security** and **trust** in digital communication.
   * Discuss the problem of **untrusted networks** and the need for encryption and authentication.
   * **Real-world example**: How a website visitor must trust that their information is secure when making online transactions.
2. **Encryption**:

   * **What It Is**: Introduce **encryption** as the core of **data protection**.
   * Discuss the basics of **symmetric** and **asymmetric** encryption, focusing on **public key cryptography**.
   * **Real-world example**: How public key encryption enables secure online banking and messaging.
3. **Digital Signatures**:

   * **Why They Matter**: Explain how **digital signatures** ensure that the sender is who they say they are and that the message hasn't been altered.
   * Link this to the concept of **data integrity** and **non-repudiation**.
   * **Real-world example**: How digital signatures are used in **software distribution** to confirm that downloaded software is from a trusted source.
4. **Certificates**:

   * **What Certificates Do**: Discuss how **digital certificates** link **public keys** to **identities**, making trust more practical.
   * Explain how certificates are used to verify that a public key belongs to a specific individual or organization.
   * **Real-world example**: How HTTPS certificates ensure that when you visit a website, you're interacting with the **legitimate site**, not a fake one.
5. **Certificate Authorities (CA) & Public Key Infrastructure (PKI)**:
憑證管理中心(certification authority, ca)
安全性憑證 網路身分驗證的信任錨點(trust anchor) 網路上層層信任的起點 
憑證機構必須具備優良的聲譽 他們簽發的安全性憑證才會得到信
   * **The Trust Model**: Introduce **PKI** and how it supports certificates and secure communication.
   * Explain how **CAs** validate identities and issue certificates to establish a chain of trust.
   * **Real-world example**: The process of a website getting an SSL certificate from a trusted CA like **DigiCert** or **Let's Encrypt** and the role of browsers in verifying these certificates.

### How This Structure Differs:

1. **Intro to Security & Trust**: This could be a helpful step to establish the **big picture** before diving into technical concepts. It’s like giving the reader a context for why encryption, digital signatures, and certificates are needed in the first place.

2. **Use Cases**: By tying **real-world examples** to each concept, you make the technical details more relatable. People often grasp abstract ideas better when they see them in action.

3. **PKI & CA Last**: In this flow, **PKI & CA** is introduced last to wrap up the chapter. It ties everything together and explains how a **global trust network** ensures security. In your original flow, it’s before certificates, which also makes perfect sense. Both approaches are fine, but this one gives a bit more emphasis on **why** these elements matter in practical terms.


---

## 原罪

### 加密法過時 
DES 

### 加密外弱點
其他弱點的存在，讓加密失去意義
金鑰外洩

### 金鑰基礎建設
PKI部屬的任務窒礙難行，過程牽涉到38個獨立步驟，每個步驟對執行者來說都代表一個決定 [連結](https://faculty.cc.gatech.edu/~beki/j7.pdf)

### 不合規CA

其憑證被撤除信任的原因為，其團隊沒有即時掌握落實的調整，例如2023年9月15日生效的BR，要求修改延伸用途欄位EKU的標註內容，因其團隊沒有即時掌握和執行，致使部分憑證的格式EKU不符規定，其他疏失還有包括機關代號、地址欄位的編碼不符規定等。
此外，中華電信團隊先前以窒礙難行為由，沒有即時向上通報，快速處理，例如依規定，對於Bugzilla論壇上社群的詢問，CA業者需在72小時內回應，但中華電信以和憑證客戶的合約，需得到客戶的審查才能回應論壇提問，致使無法來得及在72小時內回應，過慢的回應引發論壇上的不滿。
其次是，CA業者依規定需定期提交合規文件，但是中華電信以團隊正值更替、交接不完整，致使承接的團隊沒能在規定時限內提交。
上述2024年中華電信憑證團隊的不合規事件[^1]

### 失效憑證

**長期**
若企業能全面淘汰固定使用的長期憑證，並改用臨時存取機制，將能大幅降低被濫用的機率。[^2]
**偽造 偷取**
EX: 荷蘭 憑證簽發機構difinotar 駭客入侵 偽造500數位憑證 一周內 diginotar宣告破產
stunxnext 使用從台灣偷來的兩張憑證
TA-ShadowCricket偽造或盜用數家軟體廠商憑證簽署惡意軟體的現象，其中一家是臺灣軟體業者訊連科技（CyberLink），駭客於2012年曾偽造該公司憑證為惡意軟體簽章[^3]


Adversaries may obtain and abuse credentials of existing accounts as a means of gaining Initial Access, Persistence, Privilege Escalation, or Defense Evasion. Compromised credentials may be used to bypass access controls placed on various resources on systems within the network and may even be used for persistent access to remote systems and externally available services, such as VPNs, Outlook Web Access, network devices, and remote desktop.

---

SSL協定 讓瀏覽器與網頁伺服器間的通訊可以加密 但若瀏覽器與網頁伺服器存在安全弱點 那這個協定意義也不大

[^1]: https://www.ithome.com.tw/news/169597
[^2]: https://www.ithome.com.tw/news/169608
[^3]: https://www.ithome.com.tw/news/169197